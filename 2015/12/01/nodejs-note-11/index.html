<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
    <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />



  <meta name="description" content="Lyn's Blog about Node.js  Express.js Angular.js HTML5 Mongodb Programing Notes" />




  <meta name="keywords" content="less," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="Why using less ?less is an extension to CSS, Less is not only backwards compatible with CSS, but the extra features it adds use existing CSS syntax.
it add some features to make css file more easy to">
<meta property="og:type" content="article">
<meta property="og:title" content="How to learn Node.js -- Using less and lessMiddleware to complie css file">
<meta property="og:url" content="http://lyn.s76.org/2015/12/01/nodejs-note-11/index.html">
<meta property="og:site_name" content="Lyn's Blog">
<meta property="og:description" content="Why using less ?less is an extension to CSS, Less is not only backwards compatible with CSS, but the extra features it adds use existing CSS syntax.
it add some features to make css file more easy to">
<meta property="og:image" content="http://7xnuw0.com1.z0.glb.clouddn.com/16-1-16/54670514.jpg">
<meta property="og:updated_time" content="2016-01-16T08:50:52.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to learn Node.js -- Using less and lessMiddleware to complie css file">
<meta name="twitter:description" content="Why using less ?less is an extension to CSS, Less is not only backwards compatible with CSS, but the extra features it adds use existing CSS syntax.
it add some features to make css file more easy to">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> How to learn Node.js -- Using less and lessMiddleware to complie css file | Lyn's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-hk">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?e1a1e7f61eef21fbacf4a67a19789441";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Lyn's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Node.js Angular.js Express.js HTML5 Mongodb Programing Notes</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            標籤
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                How to learn Node.js -- Using less and lessMiddleware to complie css file
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-12-01T23:52:25+08:00" content="2015-12-01">
              2015-12-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/12/01/nodejs-note-11/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/12/01/nodejs-note-11/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><h1 id="Why_using_less_?">Why using less ?</h1><p>less is an extension to CSS, Less is not only backwards compatible with CSS, but the extra features it adds use existing CSS syntax.</p>
<p>it add some features to make css file more easy to maintain in development, for example:</p>
<h2 id="Variables">Variables</h2><p>We can add variables in less:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@color:</span> <span class="hexcolor">#4D926F</span>;</span><br><span class="line"></span><br><span class="line"><span class="id">#header</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">h2</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Mixins">Mixins</h2><p> You can mix-in class selectors and id selectors, e.g.<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.a</span>, <span class="id">#b</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class">.mixin-class</span> &#123;</span><br><span class="line">  <span class="class">.a</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="class">.mixin-id</span> &#123;</span><br><span class="line">  <span class="id">#b</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p> which results in:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.a</span>, <span class="id">#b</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> red</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.mixin-class</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> red</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.mixin-id</span> <span class="rules">&#123;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> red</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Nested_Rules">Nested Rules</h2><p>Less enable us to use nesting instead of, or in combination with cascading:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="id">#header</span> <span class="tag">h1</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">26px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">font-weight</span>:<span class="value"> bold</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="id">#header</span> <span class="tag">p</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">12px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="id">#header</span> <span class="tag">p</span> <span class="tag">a</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">text-decoration</span>:<span class="value"> none</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="id">#header</span> <span class="tag">p</span> <span class="tag">a</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">border-width</span>:<span class="value"> <span class="number">1px</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>In Less, we can also write it this way:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="id">#header</span> &#123;</span><br><span class="line">    <span class="tag">h1</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">26px</span>;</span><br><span class="line">        <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="tag">p</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">        <span class="tag">a</span> &#123;</span><br><span class="line">            <span class="attribute">text-decoration</span>: none;</span><br><span class="line">            <span class="keyword">&amp;</span><span class="pseudo">:hover</span> &#123;</span><br><span class="line">                <span class="attribute">border-width</span>: <span class="number">1px</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This looks more nature like html structrue </p>
<h1 id="Install_lessMiddleware">Install lessMiddleware</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">install</span> <span class="keyword">less</span>-middleware <span class="comment">--save</span></span></span><br></pre></td></tr></table></figure>
<h2 id="Usage">Usage</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">lessMiddleware</span><span class="params">(source, [&#123;options&#125;])</span></span></span><br></pre></td></tr></table></figure>
<h2 id="Express">Express</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lessMiddleware = <span class="keyword">require</span>(<span class="string">'less-middleware'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line">app.<span class="keyword">use</span>(lessMiddleware(__dirname + <span class="string">'/public'</span>));</span><br><span class="line">app.<span class="keyword">use</span>(express.<span class="keyword">static</span>(__dirname + <span class="string">'/public'</span>));</span><br></pre></td></tr></table></figure>
<h1 id="configure_lessMiddleware">configure lessMiddleware</h1><h2 id="options">options</h2><p>The following options can be used to control the behavior of the middleware:</p>
<p> <img src="http://7xnuw0.com1.z0.glb.clouddn.com/16-1-16/54670514.jpg" alt=""><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">|Option |Description                 |Default|</span><br><span class="line">|<span class="comment">---|---|---|</span></span><br><span class="line">|debug  |<span class="operator"><span class="keyword">Show</span> more verbose <span class="keyword">logging</span>?	|<span class="literal">false</span>  |</span><br><span class="line">|dest	 |Destination <span class="keyword">directory</span> <span class="keyword">to</span> <span class="keyword">output</span> the <span class="keyword">compiled</span> .css files.	Same <span class="keyword">directory</span> <span class="keyword">as</span> <span class="keyword">less</span> <span class="keyword">source</span> files.<span class="keyword">force</span> <span class="keyword">Always</span> re-compile <span class="keyword">less</span> files <span class="keyword">on</span> <span class="keyword">each</span> request. |<span class="literal">false</span></span><br><span class="line">|once	|<span class="keyword">Only</span> recompile once <span class="keyword">after</span> <span class="keyword">each</span> <span class="keyword">server</span> restart. Useful <span class="keyword">for</span> reducing disk <span class="keyword">i</span>/o <span class="keyword">on</span> production.	|<span class="literal">false</span></span><br><span class="line">|pathRoot	|Common root <span class="keyword">of</span> the <span class="keyword">source</span> <span class="keyword">and</span> destination. It <span class="keyword">is</span> prepended <span class="keyword">to</span> <span class="keyword">both</span> the <span class="keyword">source</span> <span class="keyword">and</span> destination <span class="keyword">before</span> being used.	|<span class="literal">null</span></span><br><span class="line">|postprocess	|<span class="keyword">Object</span> containing functions relevant <span class="keyword">to</span> preprocessing <span class="keyword">data</span>.postprocess.css	<span class="keyword">Function</span> that modifies the <span class="keyword">compiled</span> css <span class="keyword">output</span> <span class="keyword">before</span> being <span class="keyword">stored</span>.	|<span class="keyword">function</span>(css, req)&#123;...&#125;</span><br><span class="line">|preprocess	|<span class="keyword">Object</span> containing functions relevant <span class="keyword">to</span> preprocessing <span class="keyword">data</span>.preprocess.<span class="keyword">less</span>	<span class="keyword">Function</span> that modifies the <span class="keyword">raw</span> <span class="keyword">less</span> <span class="keyword">output</span> <span class="keyword">before</span> being parsed <span class="keyword">and</span> <span class="keyword">compiled</span>.	|<span class="keyword">function</span>(src, req)&#123;...&#125;</span><br><span class="line">|preprocess.<span class="keyword">path</span>|	<span class="keyword">Function</span> that modifies the <span class="keyword">less</span> pathname <span class="keyword">before</span> being loaded <span class="keyword">from</span> the filesystem.	|<span class="keyword">function</span>(pathname, req)&#123;...&#125;</span><br><span class="line">|preprocess.importPaths |	<span class="keyword">Function</span> that modifies the <span class="keyword">import</span> paths used <span class="keyword">by</span> the <span class="keyword">less</span> parser per request.|<span class="keyword">function</span>(paths, req)&#123;...&#125;</span><br><span class="line">|render|	Options <span class="keyword">for</span> the <span class="keyword">less</span> render. See the “render Options” <span class="keyword">section</span> below.	|…</span><br><span class="line">|storeCss|	<span class="keyword">Function</span> that <span class="keyword">is</span> <span class="keyword">in</span> charge <span class="keyword">of</span> storing the css <span class="keyword">in</span> the filesystem.	|<span class="keyword">function</span>(pathname, css, req, <span class="keyword">next</span>)&#123;...&#125;</span><br><span class="line">|cacheFile	|<span class="keyword">Path</span> <span class="keyword">to</span> a <span class="keyword">JSON</span> <span class="keyword">file</span> that will be used <span class="keyword">to</span> <span class="keyword">cache</span> <span class="keyword">less</span> <span class="keyword">data</span> across <span class="keyword">server</span> restarts. This can greatly speed up <span class="keyword">initial</span> <span class="keyword">load</span> <span class="keyword">time</span> <span class="keyword">after</span> a <span class="keyword">server</span> restart - <span class="keyword">if</span> the <span class="keyword">less</span> files haven’<span class="keyword">t</span> <span class="keyword">changed</span> <span class="keyword">and</span> the css files still exist, specifying this <span class="keyword">option</span> will mean that the <span class="keyword">less</span> files don’<span class="keyword">t</span> need <span class="keyword">to</span> be recompiled <span class="keyword">after</span> a <span class="keyword">server</span> restart.|</span></span><br></pre></td></tr></table></figure></p>
<p>We’ll use the compress option in the compiler. We don’t want to compress in development mode, so we’ll  do the App.env !== ‘development` trick.</p>
<p>Note that if compress is set to true, then the dumpLineNumbers option is effectively ignored.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Configure less</span></span><br><span class="line"><span class="keyword">var</span> lessMiddleware = <span class="built_in">require</span>(<span class="string">'less-middleware'</span>)</span><br><span class="line">  , lessMiddlewareOptions = &#123;</span><br><span class="line">      dest: App.appPath(<span class="string">'/public'</span>)</span><br><span class="line">    , relativeUrls: <span class="literal">true</span></span><br><span class="line">    , force: App.env === <span class="string">'development'</span></span><br><span class="line">    , once: App.env !== <span class="string">'development'</span></span><br><span class="line">    , debug: App.env === <span class="string">'development'</span></span><br><span class="line">    , preprocess: &#123;</span><br><span class="line">        path: <span class="function"><span class="keyword">function</span>(<span class="params">pathname,req</span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(pathname)</span><br><span class="line">          <span class="keyword">return</span> pathname.replace(<span class="string">'/stylesheets'</span>, <span class="string">''</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  , lessParserOptions = &#123;</span><br><span class="line">      dumpLineNumbers: <span class="string">'mediaquery'</span></span><br><span class="line">    &#125;</span><br><span class="line">  , lessCompilerOptions = &#123;</span><br><span class="line">      compress: App.env !== <span class="string">'development'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">App.app.use(lessMiddleware(</span><br><span class="line">  App.appPath(<span class="string">'app/stylesheets'</span>)</span><br><span class="line">, lessMiddlewareOptions</span><br><span class="line">, lessParserOptions</span><br><span class="line">, lessCompilerOptions</span><br><span class="line">))</span><br></pre></td></tr></table></figure>
<p>/app/stylesheets/dummy.less</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// example of nesting styles and a variable</span></span><br><span class="line"><span class="variable">@administrator-text-color:</span> <span class="hexcolor">#00B4FF</span>;</span><br><span class="line"></span><br><span class="line"><span class="class">.system_message</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="hexcolor">#EEE</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@administrator-text-color</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/less/" rel="tag">#less</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/11/15/nodejs-note-10/" rel="next" title="How to learn Node.js -- mongoose validation &unique records in mongodb">
                <i class="fa fa-chevron-left"></i> How to learn Node.js -- mongoose validation &unique records in mongodb
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/12/03/nodejs-note-12/" rel="prev" title="How to learn Node.js -- Using bootstrap">
                How to learn Node.js -- Using bootstrap <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


        </div>

        


        
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2015/12/01/nodejs-note-11/"
           data-title="How to learn Node.js -- Using less and lessMiddleware to complie css file" data-url="http://lyn.s76.org/2015/12/01/nodejs-note-11/">
      </div>
    
  </div>


      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/author.png" alt="Lyn's Blog" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Lyn's Blog</p>
        </div>
        <p class="site-description motion-element" itemprop="description">Lyn's Blog about Node.js  Express.js Angular.js HTML5 Mongodb Programing Notes</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">28</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分類</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">20</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Why_using_less_?"><span class="nav-number">1.</span> <span class="nav-text">Why using less ?</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Variables"><span class="nav-number">1.1.</span> <span class="nav-text">Variables</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mixins"><span class="nav-number">1.2.</span> <span class="nav-text">Mixins</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nested_Rules"><span class="nav-number">1.3.</span> <span class="nav-text">Nested Rules</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Install_lessMiddleware"><span class="nav-number">2.</span> <span class="nav-text">Install lessMiddleware</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Usage"><span class="nav-number">2.1.</span> <span class="nav-text">Usage</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Express"><span class="nav-number">2.2.</span> <span class="nav-text">Express</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#configure_lessMiddleware"><span class="nav-number">3.</span> <span class="nav-text">configure lessMiddleware</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#options"><span class="nav-number">3.1.</span> <span class="nav-text">options</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2011 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lyn's Blog</span>
</div>

<div class="powered-by">
  <a class="theme-link" href="http://hexo.io">Powered by Hexo
  </a>
</div>

<div class="theme-info">
  
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>

</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"blog-lyn"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    motionMiddleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');
      if (CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    };
  });
</script>



  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
